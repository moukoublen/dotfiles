#!/usr/bin/env bash

update_dnf() {
    echo -e "\e[0;96m->\e[0m \e[0;90msudo dnf update --refresh\e[0m"
    sudo dnf update --refresh
    sudo dnf needs-restarting
}

update_apt() {
    echo -e "\e[0;96m->\e[0m \e[0;90msudo apt update\e[0m"
    sudo apt update
    echo -e "\e[0;96m->\e[0m \e[0;90msudo apt upgrade\e[0m"
    sudo apt upgrade
}

echo -e "\e[1;96m$(what-os)\e[0m with \e[1;36m$(what-pm)\e[0m"
case "$(what-pm)" in
  "dnf")
    update_dnf
    ;;
  "apt")
    update_apt
    ;;
  *)
    prnt "this script does not have update command for this release $os_name"
    ;;
esac

unset -f update_dnf
unset -f update_apt
